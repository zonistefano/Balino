{% extends "_layout.html" %}
{% block title %}Object Tracking{% endblock %}
{% block input %}active{% endblock %}
{% block tracking %}active{% endblock %}

{% block content %}
<!-- Content -->
<div class="container">
    <h1>Simple object tracking</h1>
    <div class="row py-2">
        <div class="col">
            <label for="videoSelect" class="form-label">Select camera</label>
            <select class="form-select" id="videoSelect">
            </select>
        </div>
        <div class="col-auto align-self-end">
            <button type="button" class="btn btn-success" id="btnStart">Start</button>
            <button type="button" class="btn btn-danger" hidden="hidden" id="btnStop">Stop</button>
        </div>
    </div>
    <div class="row py-2 g-2">
        <div class="col d-flex justify-content-center position-relative" id="in">
            <video autoplay playsinline id="videoIn"
                style="border-left-width: 0px !important; border-right-width: 0px !important;"></video>
            <div id="div_in" style="position: absolute;"></div>
            <canvas id="canvas" style="position: absolute;"></canvas>
        </div>
    </div>
    <div class="row py-2 g-2">
        <div class="col d-flex justify-content-center">
            <div id="div_out"></div>
        </div>
    </div>
</div>
<!-- Content End -->

<!-- JS Elements Start -->
<script>
    const videoIn = document.getElementById('videoIn');
    const canvas = document.getElementById('canvas');
    const btnStart = document.getElementById("btnStart")
    const btnStop = document.getElementById("btnStop")
    const videoSelect = document.getElementById('videoSelect');
    const contIn = document.getElementById('in')
    const div_out = document.getElementById('div_out')
    const div_in = document.getElementById('div_in')
    const context = canvas.getContext('2d');
</script>
<!-- JS Elements End -->

<!-- JS Import Start -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
<script src="/static/js/hammer.min.js"></script>
<script src="/static/js/raphael.min.js"></script>
<script async src="/static/js/opencv.js" type="text/javascript"></script>
<script src="/static/js/video.js"></script>
<script src="/static/js/ui.js"></script>
<script src="/static/js/drawing.js"></script>
<script src="/static/js/tracking_b.js"></script>
<!-- JS Import End -->
{% endblock %}